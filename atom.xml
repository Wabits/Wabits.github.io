<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wabits的垃圾屋</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2025-04-02T09:17:28.000Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Wabits</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Archlinux安装记录</title>
    <link href="http://example.com/2025/04/02/Archlinux%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/"/>
    <id>http://example.com/2025/04/02/Archlinux%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</id>
    <published>2025-04-02T09:08:15.000Z</published>
    <updated>2025-04-02T09:17:28.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>作为一个 Linux 爱好者，最近决定尝试安装和配置 Archlinux。以下是我的详细折腾记录，引用了 <a href="https://arch.icekylin.online/">arch.icekylin.online</a> 网站的内容。</p><h2 id="为什么选择-Archlinux？"><a href="#为什么选择-Archlinux？" class="headerlink" title="为什么选择 Archlinux？"></a>为什么选择 Archlinux？</h2><p>Archlinux 是一个极简的滚动更新发行版，适合喜欢折腾和深入了解 Linux 的用户。它的安装过程需要手动配置，能够帮助用户学习 Linux 的底层原理。此外，Archlinux 的文档资源（Arch Wiki）非常详尽，几乎可以解决所有问题。</p><p>相比其他发行版，Archlinux 的优势在于：</p><ol><li><strong>极简设计</strong>：只安装必要的组件，用户可以根据需求自由定制。</li><li><strong>滚动更新</strong>：始终保持最新的软件版本，无需重新安装系统。</li><li><strong>学习机会</strong>：通过手动安装和配置，深入了解 Linux 的工作原理。</li></ol><h2 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h2><h3 id="1-安装前工作"><a href="#1-安装前工作" class="headerlink" title="1. 安装前工作"></a>1. 安装前工作</h3><h4 id="1-1"><a href="#1-1" class="headerlink" title="1-1."></a>1-1.</h4><p>安装镜像 iso 在开源镜像站（推荐）或者 <a href="https://archlinux.org/download/">archlinux</a> 官方下载页面 下载。</p><p>下面是国内常用的提供 archlinux 安装镜像的开源镜像站（选择一个）：</p><p><a href="https://mirrors.ustc.edu.cn/archlinux/">中国科学技术大学开源镜像站</a><br><a href="https://mirrors.tuna.tsinghua.edu.cn/archlinux/">清华大学开源软件镜像站</a><br><a href="https://mirrors.aliyun.com/archlinux/">阿里云开源镜像站</a><br><a href="https://repo.huaweicloud.com/archlinux/">华为开源镜像站</a></p><h4 id="1-2-准备启动盘"><a href="#1-2-准备启动盘" class="headerlink" title="1-2. 准备启动盘"></a>1-2. 准备启动盘</h4><p>Windows下 <a href="https://rufus.ie/">Rufus</a> 或者 <a href="https://unetbootin.github.io/">UNetbootin</a> 制作启动盘。<br>Linux下使用 <code>dd</code> 命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">dd</span> <span class="keyword">if</span>=path/to/archlinux.iso of=/dev/sdX bs=4M status=progress</span><br></pre></td></tr></table></figure><blockquote><p>注意：<code>/dev/sdX</code> 是你的 USB 驱动器，确保选择正确的设备，以免数据丢失。</p></blockquote><h4 id="1-3-将调整启动方式为-UEFI"><a href="#1-3-将调整启动方式为-UEFI" class="headerlink" title="1-3. 将调整启动方式为 UEFI"></a>1-3. 将调整启动方式为 UEFI</h4><p>在 BIOS 中将启动模式设置为 UEFI，并禁用安全启动（Secure Boot）。如果你的电脑支持快速启动（Fast Boot），建议关闭。</p><h4 id="1-4-启动进入安装环境"><a href="#1-4-启动进入安装环境" class="headerlink" title="1-4. 启动进入安装环境"></a>1-4. 启动进入安装环境</h4><p>将 USB 启动盘插入电脑，重启并进入 BIOS 设置启动顺序，选择 USB 启动盘。进入 Archlinux Live 环境后，选择 <code>Boot Arch Linux (x86_64)</code> 进入命令行界面。</p><h4 id="1-5-设置网络连接"><a href="#1-5-设置网络连接" class="headerlink" title="1-5. 设置网络连接"></a>1-5. 设置网络连接</h4><p>如果使用有线网络，通常会自动连接。可以使用 <code>ip a</code> 命令查看网络状态。如果使用无线网络，可以使用 <code>iwctl</code> 命令连接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iwctl <span class="comment"># 进入交互式命令行</span></span><br></pre></td></tr></table></figure><p>在 <code>iwctl</code> 提示符下，使用以下命令连接 Wi-Fi：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">station device list <span class="comment">#查看无线网卡设备名，比如 wlan0</span></span><br><span class="line">station device scan <span class="comment">#扫描可用的无线网络（device 是你的无线网卡设备名）</span></span><br><span class="line">station device get-networks <span class="comment">#查看可用的无线网络（Wifi ）</span></span><br><span class="line">station device connect SSID <span class="comment">#连接到指定的无线网络（SSID 是你要连接的无线网络名称，）</span></span><br><span class="line"><span class="built_in">exit</span> <span class="comment"># 退出 iwctl交互式命令行 </span></span><br></pre></td></tr></table></figure><p>如果连接成功，可以使用 <code>ping</code> 命令测试网络连接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping archlinux.org</span><br></pre></td></tr></table></figure><p>稍等一会，如果能 ping 通，说明网络连接成功。按 <code>Ctrl+c</code> 退出。</p><h4 id="1-6-更新系统时间"><a href="#1-6-更新系统时间" class="headerlink" title="1-6. 更新系统时间"></a>1-6. 更新系统时间</h4><p>Archlinux 默认使用 UTC 时间，如果你的系统时间不正确，可以使用以下命令同步时间：</p><p>使用 <code>timedatectl</code> 命令设置系统时间：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp <span class="literal">true</span> <span class="comment"># 启用网络时间同步</span></span><br><span class="line">timedatectl status <span class="comment"># 查看当前时间设置</span></span><br></pre></td></tr></table></figure><h4 id="1-7-更换国内软件仓库镜像源加快下载速度"><a href="#1-7-更换国内软件仓库镜像源加快下载速度" class="headerlink" title="1-7. 更换国内软件仓库镜像源加快下载速度"></a>1-7. 更换国内软件仓库镜像源加快下载速度</h4><p>编辑 <code>/etc/pacman.d/mirrorlist</code> 文件，将国内镜像源置于顶部。可以使用 <code>vim</code> 编辑器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure><p>在文件顶部添加以下内容（以清华大学镜像源为例）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span><br><span class="line">Server = https://mirrors.aliyun.com/archlinux/$repo/os/$arch</span><br><span class="line">Server = https://repo.huaweicloud.com/archlinux/$repo/os/$arch</span><br></pre></td></tr></table></figure><h3 id="2-分区与格式化"><a href="#2-分区与格式化" class="headerlink" title="2. 分区与格式化"></a>2. 分区与格式化</h3><p>由于我是512G的硬盘，所以 &#x2F;home <code>(用户主目录)</code> 的大小给足了点，请根据自身情况调整即可<br>这里显示当前磁盘分区情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></table></figure><p>使用 <code>cfdisk</code> 命令分区：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/nvmwe0n1</span><br></pre></td></tr></table></figure><p>选择 <code>GPT</code> 分区表，创建以下分区：</p><ul><li><code>/dev/nvme0n1p1</code>：EFI 分区，大小 512M，类型 <code>EFI System</code></li><li><code>/dev/nvme0n1p2</code>：根分区，大小 20G，类型 <code>Linux filesystem</code></li><li><code>/dev/nvme0n1p3</code>：交换分区，大小 8G，类型 <code>Linux swap</code></li><li><code>/dev/nvme0n1p4</code>：主目录分区，大小 100G，类型 <code>Linux filesystem</code></li><li><code>/dev/nvme0n1p5</code>：数据分区，大小 300G，类型 <code>Linux filesystem</code><br>分区完成后，使用 <code>fdisk</code> 命令查看分区情况：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l /dev/nvme0n1</span><br></pre></td></tr></table></figure><blockquote><p>注意：<code>/dev/nvme0n1</code> 是你的硬盘设备名，确保选择正确的设备，以免数据丢失。<br>接下来格式化分区：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 /dev/nvme0n1p1 <span class="comment"># 格式化 EFI 分区</span></span><br><span class="line">mkfs.btrfs -f /dev/nvme0n1p2 <span class="comment"># 格式化根分区</span></span><br><span class="line">mkswap /dev/nvme0n1p3 <span class="comment"># 格式化交换分区</span></span><br><span class="line">mkfs.btrfs -f /dev/nvme0n1p4 <span class="comment"># 格式化主目录分区</span></span><br><span class="line">mkfs.btrfs -f /dev/nvme0n1p5 <span class="comment"># 格式化数据分区</span></span><br></pre></td></tr></table></figure><p>挂载分区：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/nvme0n1p2 /mnt <span class="comment"># 挂载根分区</span></span><br><span class="line"><span class="built_in">mkdir</span> /mnt/boot</span><br><span class="line">mount /dev/nvme0n1p1 /mnt/boot <span class="comment"># 挂载 EFI 分区</span></span><br><span class="line"><span class="built_in">mkdir</span> /mnt/home</span><br><span class="line">mount /dev/nvme0n1p4 /mnt/home <span class="comment"># 挂载主目录分区</span></span><br><span class="line"><span class="built_in">mkdir</span> /mnt/data</span><br><span class="line">mount /dev/nvme0n1p5 /mnt/data <span class="comment"># 挂载数据分区</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：<code>/dev/nvme0n1p2</code>、<code>/dev/nvme0n1p1</code>、<code>/dev/nvme0n1p4</code> 和 <code>/dev/nvme0n1p5</code> 是你的分区设备名，确保选择正确的设备，以免数据丢失。<br>如果你使用的是其他文件系统（如 ext4），请根据需要调整格式化命令。<br>如果你使用的是 LVM 或者其他分区方式，请根据需要调整分区和格式化命令。 </p></blockquote><h3 id="3-安装基本系统"><a href="#3-安装基本系统" class="headerlink" title="3. 安装基本系统"></a>3. 安装基本系统</h3><p>1.运行以下命令安装基本系统：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base linux linux-firmware btrfs-progs</span><br><span class="line"><span class="comment"># 使用btrfs文件系统，则需要额外安装一个btrfs-progs包</span></span><br></pre></td></tr></table></figure><p>假如提示GPG证书错误，可能是使用的不是最新的镜像文件(ISO)，可以更新 archlinux-keyring 解决问题</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman-S archlinux-keyring</span><br></pre></td></tr></table></figure><p>2.使用pacstrap安装其它必要的功能性软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base-devel linux-headers networkmanager dhcpcd vim <span class="built_in">sudo</span> zsh zsh-completions</span><br></pre></td></tr></table></figure><p>3.生成文件系统表：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure><p>4.使用 <code>vim</code> 编辑 <code>/mnt/etc/fstab</code> 文件，确保文件格式正确。可以使用以下命令查看文件内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /mnt/etc/fstab</span><br></pre></td></tr></table></figure><p>确保文件中包含以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span><br><span class="line">/dev/nvme0n1p2  /               btrfs   rw,relatime,ssd,space_cache,subvolid=5,subvol=/@  0       0</span><br><span class="line">/dev/nvme0n1p4  /home           btrfs   rw,relatime,ssd,space_cache,subvolid=5,subvol=/@home  0       0</span><br><span class="line">/dev/nvme0n1p5  /data           btrfs   rw,relatime,ssd,space_cache,subvolid=5,subvol=/@data  0       0</span><br><span class="line">/dev/nvme0n1p1  /boot           vfat    umask=0077      0       0</span><br><span class="line">/dev/nvme0n1p3  none            swap    defaults        0       0</span><br></pre></td></tr></table></figure><h3 id="4-配置系统"><a href="#4-配置系统" class="headerlink" title="4. 配置系统"></a>4. 配置系统</h3><p>进入新系统：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure><p>设置时区和本地化：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sf /usr/share/zoneinfo/Region/City /etc/localtime</span><br><span class="line">hwclock --systohc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;LANG=en_US.UTF-8&quot;</span> &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure><p>编辑 <code>/etc/locale.gen</code>，取消需要的语言注释，然后运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure><p>设置主机名和网络：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;archlinux&quot;</span> &gt; /etc/hostname</span><br></pre></td></tr></table></figure><p>编辑 <code>/etc/hosts</code>：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   archlinux.localdomain archlinux</span><br></pre></td></tr></table></figure><p>设置 root 密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p>添加用户：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -G wheel -s /bin/zsh username</span><br><span class="line">passwd username</span><br></pre></td></tr></table></figure><p>编辑 <code>/etc/sudoers</code>，取消 <code># %wheel ALL=(ALL) ALL</code> 的注释：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EDITOR=vim visudo</span><br></pre></td></tr></table></figure><p>启用 networkmanager 和 sshd 服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> NetworkManager</span><br><span class="line">systemctl <span class="built_in">enable</span> sshd</span><br></pre></td></tr></table></figure><p>安装微码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S intel-ucode <span class="comment"># 如果是 AMD CPU，使用 amd-ucode</span></span><br></pre></td></tr></table></figure><h3 id="5-安装引导程序"><a href="#5-安装引导程序" class="headerlink" title="5. 安装引导程序"></a>5. 安装引导程序</h3><p>安装 GRUB：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr</span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=archlinux</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure><p>如果使用的是 BIOS 启动模式，安装 GRUB 的命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target=i386-pc /dev/nvme0n1</span><br></pre></td></tr></table></figure><p>完成后，退出并重启系统：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span> <span class="comment"># 退出安装环境</span></span><br><span class="line">umount -R /mnt <span class="comment"># 卸载新分区</span></span><br><span class="line">reboot <span class="comment"># 重启系统</span></span><br></pre></td></tr></table></figure><blockquote><p>注意重启前要先拔掉u盘，否则你重启后还是进安装程序而不是安装好的系统</p></blockquote><p>设置开机自启动 networkmanager 服务，即可连接网络</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> NetworkManager <span class="comment"># 设置开机自启并立即启动 NetworkManager</span></span><br></pre></td></tr></table></figure><p>如果是无线连接(Wi-Fi)，可以使用 <code>nmcli</code> 命令连接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmcli device wifi list <span class="comment"># 列出可用的 Wi-Fi 网络</span></span><br><span class="line">nmcli device wifi connect SSID password PASSWORD <span class="comment"># 连接到指定的 Wi-Fi 网络</span></span><br></pre></td></tr></table></figure><p>如果是有线连接，通常会自动连接。<br>如果没有自动连接，可以使用以下命令手动启动 DHCP 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpcd</span><br></pre></td></tr></table></figure><h2 id="配置桌面环境"><a href="#配置桌面环境" class="headerlink" title="配置桌面环境"></a>配置桌面环境</h2><p>重启后，进入系统并安装桌面环境。我选择了 KDE Plasma：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S plasma-meta kde-applications sddm</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> sddm</span><br></pre></td></tr></table></figure><p>此外，还安装了常用的软件包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S firefox vlc git</span><br></pre></td></tr></table></figure><h2 id="深度配置"><a href="#深度配置" class="headerlink" title="深度配置"></a>深度配置</h2><h3 id="1-显卡驱动"><a href="#1-显卡驱动" class="headerlink" title="1. 显卡驱动"></a>1. 显卡驱动</h3><p>我的电脑使用 NVIDIA 显卡，安装驱动时遇到了黑屏问题。解决方法是安装 <code>nvidia-dkms</code> 并更新内核：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S nvidia-dkms</span><br><span class="line"><span class="built_in">sudo</span> mkinitcpio -P</span><br></pre></td></tr></table></figure><h3 id="2-中文字体"><a href="#2-中文字体" class="headerlink" title="2. 中文字体"></a>2. 中文字体</h3><p>默认情况下，系统没有中文字体，导致中文显示为方块。安装 <code>noto-fonts-cjk</code> 后解决：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S noto-fonts-cjk</span><br></pre></td></tr></table></figure><h3 id="3-AUR-软件安装"><a href="#3-AUR-软件安装" class="headerlink" title="3. AUR 软件安装"></a>3. AUR 软件安装</h3><p>一些软件在官方仓库中没有，需要通过 AUR 安装。我使用 <code>yay</code> 作为 AUR 助手：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S base-devel</span><br><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/yay.git</span><br><span class="line"><span class="built_in">cd</span> yay</span><br><span class="line">makepkg -si</span><br></pre></td></tr></table></figure><h3 id="4-美化桌面"><a href="#4-美化桌面" class="headerlink" title="4. 美化桌面"></a>4. 美化桌面</h3><p>为了让桌面更美观，我安装了以下主题和图标包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S kvantum-qt5 papirus-icon-theme</span><br></pre></td></tr></table></figure><p>通过 KDE 设置应用这些主题后，桌面焕然一新。</p><h3 id="5-自动化脚本"><a href="#5-自动化脚本" class="headerlink" title="5. 自动化脚本"></a>5. 自动化脚本</h3><p>为了简化后续配置，我编写了一个自动化脚本，用于安装常用软件和配置系统：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">sudo</span> pacman -Syu</span><br><span class="line"><span class="built_in">sudo</span> pacman -S firefox vlc git noto-fonts-cjk</span><br></pre></td></tr></table></figure><p>将脚本保存为 <code>setup.sh</code>，然后运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash setup.sh</span><br></pre></td></tr></table></figure><h2 id="遇到的问题和解决方法"><a href="#遇到的问题和解决方法" class="headerlink" title="遇到的问题和解决方法"></a>遇到的问题和解决方法</h2><h3 id="1-网络连接问题"><a href="#1-网络连接问题" class="headerlink" title="1. 网络连接问题"></a>1. 网络连接问题</h3><p>在 Live 环境中，网络未自动连接。通过以下命令手动启动 DHCP 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpcd</span><br></pre></td></tr></table></figure><h3 id="2-GRUB-引导失败"><a href="#2-GRUB-引导失败" class="headerlink" title="2. GRUB 引导失败"></a>2. GRUB 引导失败</h3><p>安装 GRUB 后，系统无法引导。检查发现是 EFI 分区未正确挂载。重新挂载后重新安装 GRUB 解决。</p><h3 id="3-软件源速度慢"><a href="#3-软件源速度慢" class="headerlink" title="3. 软件源速度慢"></a>3. 软件源速度慢</h3><p>默认的软件源速度较慢，通过编辑 <code>/etc/pacman.d/mirrorlist</code>，将国内镜像源置于顶部解决。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过这次折腾，我对 Linux 系统的底层结构有了更深入的了解。虽然 Archlinux 的安装和配置过程较为复杂，但它的高可定制性和滚动更新模式让我感到非常值得。未来，我计划进一步探索 Archlinux 的更多功能，比如自定义内核和自动化脚本配置。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="Archlinux" scheme="http://example.com/tags/Archlinux/"/>
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
  </entry>
  
</feed>
